---
title: "Makro_Mappe_1"
format: html
editor: visual
---

Mappeoppgave 1: Nasjonalproduktet

NB! Besvarelser som ikke oppfyller disse kravene vil ikke
bli vurdert.

I denne mappeoppgaven skal dere levere en deskriptiv analyse
av nasjonalregnskapet. Formålet er å teste deres evne til å anvende makroøkonomisk teori til å

• lage informative representasjoner av
nasjonalregnskapstall, med meningsfulle enheter og relevante transformasjoner, og å

• diskutere utfordringer og begrensninger ved definisjoner.

Oppgaven har tre minstekrav:

• Dataene hentes fra SSB Tabell 09171: Produksjon og
inntekt, etter næring. Ujustert og sesongjustert, 1978K1 - 2022K3 via SSB sin API-løsning.

• Besvarelsen skal ikke overstige 750 ord.

• Kildehenvisninger på informasjon utenom pensum inkluderes.

En god besvarelse har tydelige figurer som gir leseren
oversikt over egenskapene til de etter-spurte makroøkonomiske størrelsene, samt konkrete og
komplette beskrivelser og tolkninger av figurene.

Oppgaven vil telle 25% av sluttkarakteren. Merk videre at
prosjektoppgaven består av fire oppgaver. Vekttallene er oppgitt i prosent.

Merknad. Sammenlignet med SOK-1004 er oppgavene i SOK-1016
med vilje gjort mer åpne og med mindre drahjelp.

Oppgave 1 - 40%

Lag to til fire figurer som sammenligninger sysselsetting,
produksjon, bruttoprodukt, og bruttoprodukt per sysselsatt på tvers av næringer i 2022.
Sysselsetting oppgis i antall årsverk, produksjon, bruttoprodukt, og bruttoprodukt per sysselsatt i
løpende priser. Dere må selv avgjøre hvilke tall som er meningsfylte å sammenligne og
hvorvidt dere ønsker å dele opp tallene i ulike figurer.

Hint 1. Dere kan ta inspirasjon fra Figur 2.2 i pensum, men
ikke begrens dere til den.

Hint 2. Tallene i datasettet er kvartalsvise, ikke årlige,
hvilket innebærer at dere må gjøre en transformasjon.

Oppgave 2 - 10%

Diskuter hvorvidt bruttoprodukt per sysselsatt er et godt
mål på produktivitet i offentlig sektor.

Oppgave 3 - 40%

Lag figurer som viser bruttoprodukt per næring i både faste
og løpende priser mellom 2012 og 2022. Diskuter hvorvidt det er noen næringer hvor variasjon
i produktprisene har særlig stor innvirkning på verdien av bruttoproduksjonen.

Oppgave 4 - 10%

I norsk sammenheng skiller vi ofte mellom brutto nasjonal
produkt (BNP) og brutto nasjonal-produkt på fastlandet (FN-BNP). Hvilke næringer er unntatt
fra FN-BNP, og hvorfor gjøres dette? Knytt gjerne besvarelsen til funnene fra oppgave 3.

```{r, warning=False, message=False}
rm(list=ls()) 
library(tidyverse)
library(lubridate)
library(rjstat)
library(janitor)
library(gdata)
library(httr) 
```

 

```{r}
url <- "https://data.ssb.no/api/v0/no/table/09171/"



query <- '{
  "query": [
    {
      "code": "NACE",
      "selection": {
        "filter": "item",
        "values": [
          "nr23_6",
          "pub2X01_02",
          "pub2X03",
          "pub2X05",
          "nr2X06_09",
          "nr23ind",
          "pub2X35",
          "pub2X41_43",
          "pub2X64_66",
          "pub2X68B",
          "nr23_6fn",
          "nr23mark",
          "nrimark"
        ]
      }
    },
    {
      "code": "ContentsCode",
      "selection": {
        "filter": "item",
        "values": [
          "Prob",
          "Pin",
          "BNPB",
          "Prob2",
          "PIN2",
          "BNPB2",
          "BNPB2ses"
        ]
      }
    }
  ],
  "response": {
    "format": "json-stat2"
  }
}'










query1 <- '{
  "query": [
    {
      "code": "NACE",
      "selection": {
        "filter": "item",
        "values": [
          "nr23_6",
          "pub2X01_02",
          "pub2X03",
          "pub2X05",
          "nr2X06_09",
          "pub2X06",
          "pub2X09",
          "nr23ind",
          "pub2X10_12",
          "nr2310",
          "nr2312",
          "pub2X13_15",
          "nr2315",
          "nr2316",
          "pub2X18",
          "pub2X19_21",
          "nr2319",
          "pub2X22_23",
          "pub2X24",
          "pub2X25_28",
          "pub2X29_30",
          "pub2X31_32",
          "pub2X33",
          "pub2X35",
          "pub2X36_39",
          "pub2X41_43",
          "pub2X45_47",
          "pub2X49B",
          "pub2X50A",
          "pub2X49A_52",
          "pub2X53",
          "pub2X55_56",
          "pub2X58_63",
          "pub2X64_66",
          "pub2X68A",
          "pub2X68B",
          "pub2X69_75",
          "pub2X77_82",
          "pub2X84",
          "pub2X85",
          "pub2X86_88",
          "pub2X90_97",
          "nr24_5",
          "nr24_",
          "nr24sivil",
          "nr2482",
          "nr25_",
          "nr23_6fn",
          "nr23fn",
          "nr23mark",
          "nrimark"
        ]
      }
    },
    {
      "code": "ContentsCode",
      "selection": {
        "filter": "item",
        "values": [
          "Prob",
          "Pin",
          "BNPB",
          "Prob2",
          "PIN2",
          "BNPB2",
          "BNPB2ses"
        ]
      }
    }
  ],
  "response": {
    "format": "json-stat2"
  }
}'
  
  
  
  
  
hent_indeks.tmp <- url %>%
  POST(body = query, encode = "json")

df <-  hent_indeks.tmp %>%
  content("text") %>%
  fromJSONstat() %>%
  as_tibble()

```
